<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>NMFStop. NMF 0.8.28</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class = "container">
      <a class="brand" href="index.html">NMF 0.8.28</a>
      <div class="nav">
        <ul class="nav">
        <li><a href="_MAN.html"><i class="icon-home icon-white"></i> Index</a></li>
       </ul>
   	  </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Stopping Criteria for NMF Iterative Strategies</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='stop-NMF.html'>NMFStop</a></span><span class="keyword">(</span><span class="symbol">s</span><span class="keyword">,</span> <span class="argument">check</span> <span class="argument">=</span> <span class="number">TRUE</span><span class="keyword">)</span>

<span class="functioncall"><a href='stop-NMF.html'>nmf.stop.iteration</a></span><span class="keyword">(</span><span class="symbol">n</span><span class="keyword">)</span>

<span class="functioncall"><a href='stop-NMF.html'>nmf.stop.threshold</a></span><span class="keyword">(</span><span class="symbol">threshold</span><span class="keyword">)</span>

<span class="functioncall"><a href='stop-NMF.html'>nmf.stop.stationary</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">,</span> <span class="symbol">i</span><span class="keyword">,</span> <span class="symbol">y</span><span class="keyword">,</span> <span class="symbol">x</span><span class="keyword">,</span> <span class="argument">stationary.th</span> <span class="argument">=</span> <span class="symbol">.Machine</span><span class="keyword">$</span><span class="symbol">double.eps</span><span class="keyword">,</span> <span class="argument">check.interval</span> <span class="argument">=</span> <span class="number">5</span> <span class="keyword">*</span>
  <span class="symbol">check.niter</span><span class="keyword">,</span> <span class="argument">check.niter</span> <span class="argument">=</span> <span class="number">10L</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="functioncall"><a href='stop-NMF.html'>nmf.stop.connectivity</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">,</span> <span class="symbol">i</span><span class="keyword">,</span> <span class="symbol">y</span><span class="keyword">,</span> <span class="symbol">x</span><span class="keyword">,</span> <span class="argument">stopconv</span> <span class="argument">=</span> <span class="number">40</span><span class="keyword">,</span> <span class="argument">check.interval</span> <span class="argument">=</span> <span class="number">10</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>s</dt>
      <dd>specification of the stopping criterion. See
  section <em>Details</em> for the supported formats and how
  they are processed.</dd>
      <dt>check</dt>
      <dd>logical that indicates if the validity of
  the stopping criterion function should be checked before
  returning it.</dd>
      <dt>n</dt>
      <dd>maximum number of iteration to perform.</dd>
      <dt>threshold</dt>
      <dd>default stationarity threshold</dd>
      <dt>object</dt>
      <dd>an NMF strategy object</dd>
      <dt>i</dt>
      <dd>the current iteration</dd>
      <dt>y</dt>
      <dd>the target matrix</dd>
      <dt>x</dt>
      <dd>the current NMF model</dd>
      <dt>stationary.th</dt>
      <dd>maximum absolute value of the
  gradient, for the objective function to be considered
  stationary.</dd>
      <dt>check.interval</dt>
      <dd>interval (in number of iterations)
  on which stationarity is computed.</dd>
      <dt>check.niter</dt>
      <dd>number of successive iteration used to
  compute the stationnary criterion.</dd>
      <dt>...</dt>
      <dd>extra arguments passed to the function
  <code><a href='algorithmic.html'>objective</a></code>, which computes the objective
  value between <code>x</code> and <code>y</code>.</dd>
      <dt>stopconv</dt>
      <dd>number of iterations intervals over which
  the connectivity matrix must not change for stationarity
  to be achieved.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>
      
      <p>a function that can be passed to argument <code>.stop</code> of
  function <code><a href='nmf.html'>nmf</a></code>, which is typically used when
  the algorith is implemented as an iterative strategy.</p>
  
      <p>a function that can be used as a stopping criterion for
  NMF algorithms defined as
  <code><a href='NMFStrategyIterative-class.html'>NMFStrategyIterative-class</a></code> objects. That
  is a function with arguments <code>(strategy, i, target,
  data, ...)</code> that returns <code>TRUE</code> if the stopping
  criterion is satisfied -- which in turn stops the
  iterative process, and <code>FALSE</code> otherwise.</p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>
      
      <p>The function documented here implement
  stopping/convergence criteria commonly used in NMF
  algorithms.</p>
  
      <p><code>nmf.stop.iteration</code> generates a function that
  implements the stopping criterion that limits the number
  of iterations to a maximum of <code>n</code>), i.e. that
  returns <code>TRUE</code> if <code>i>=n</code>, <code>FALSE</code>
  otherwise.</p>
  
      <p><code>nmf.stop.threshold</code> generates a function that
  implements the stopping criterion that stops when a given
  stationarity threshold is achieved by successive
  iterations. The returned function is identical to
  <code>nmf.stop.stationary</code>, but with the default
  threshold set to <code>threshold</code>.</p>
  
      <p>More precisely, the objective function is computed over
  <code class = 'eq'>n</code> successive iterations (specified in argument
  <code>check.niter</code>), every <code>check.interval</code>
  iterations. The criterion stops when the absolute
  difference between the maximum and the minimum objective
  values over these iterations is lower than a given
  threshold <code class = 'eq'>\alpha</code> (specified in
  <code>stationary.th</code>):</p>
  
      <p><code>nmf.stop.connectivity</code> implements the stopping
  criterion that is based on the stationarity of the
  connectivity matrix.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>
      
      <p><code>NMFStop</code> acts as a factory method that creates
  stopping criterion functions from different types of
  values, which are subsequently used by
  <code><a href='NMFStrategyIterative-class.html'>NMFStrategyIterative-class</a></code> objects to
  determine when to stop their iterative process.</p>
  
      <p><code>NMFStop</code> can take the following values: <span class='describe'>
  function is returned unchanged, except when it
  has no arguments, in which case it assumed to be a
  generator, which is immediately called and should return
  a function that implements the actual stopping
  criterion; integer the value is used to create a
  stopping criterion that stops at that exact number of
  iterations via <code>nmf.stop.iteration</code>;
  numeric the value is used to create a stopping
  criterion that stops when at that stationary threshold
  via <code>nmf.stop.threshold</code>; character must be
  a single string which must be an access key for
  registered criteria (currently available:
  &#147;connectivity&#148; and &#147;stationary&#148;), or the
  name of a function in the global environment or the
  namespace of the loading package. </span></p>
  
      <p><pre class = 'eq'> | [max( D(i- N_s + 1), ..., D(i) ) - min( D(i-
  N_s + 1), ..., D(i) )] / n | <= alpha </code></p>
  
    </div>
      </div>
  <div class="span4">
    <!-- <ul>
      <li>NMFStop</li><li>nmf.stop.connectivity</li><li>nmf.stop.iteration</li><li>nmf.stop.stationary</li><li>nmf.stop.threshold</li><li>stop-NMF</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>